@startuml
left to right direction
actor 用户
actor 管理员
actor 系统监控

rectangle "垂直领域大模型应用框架" {
  用户 -- (提交查询请求)
  用户 -- (提供反馈评分)
  管理员 -- (配置系统参数)
  管理员 -- (监控系统健康)
  系统监控 -- (自动资源扩展)
  系统监控 -- (持续学习触发)
  
  (提交查询请求) .> (动态路由决策): 包含
  (提交查询请求) .> (知识图谱查询): 包含
  (提交查询请求) .> (RAG处理): 包含
  (提交查询请求) .> (记忆系统处理): 包含
  (提交查询请求) .> (Agent推理): 包含
  (提交查询请求) .> (生成响应): 包含
  
  (提供反馈评分) .> (分析反馈质量): 包含
  (提供反馈评分) .> (模型参数优化): 包含
  (提供反馈评分) .> (知识更新): 包含
  
  (配置系统参数) .> (模型配置): 包含
  (配置系统参数) .> (组件配置): 包含
  (配置系统参数) .> (路由策略配置): 包含
  
  (监控系统健康) .> (资源监控): 包含
  (监控系统健康) .> (性能指标收集): 包含
  (监控系统健康) .> (错误告警): 包含
  
  (自动资源扩展) .> (CPU监控): 包含
  (自动资源扩展) .> (内存监控): 包含
  (自动资源扩展) .> (队列监控): 包含
  
  (持续学习触发) .> (反馈数据收集): 包含
  (持续学习触发) .> (模型性能评估): 包含
  (持续学习触发) .> (参数自动调整): 包含
}

note right of (提供反馈评分)
  <b>持续学习机制</b>
  - 人工评分 (1-5分)
  - 自动质量分析
  - 模型参数优化
  - 知识图谱更新
end note
@enduml